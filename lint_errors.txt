$ bun biome check src
src/index.ts:7:29 lint/complexity/useLiteralKeys  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × The computed expression can be simplified without the use of a string literal.
  
    6 │ async function main() {
  > 7 │   const runId = process.env["RUN_ID"] || `run_${Date.now()}`;
      │                             ^^^^^^^^
    8 │   const store = new AssetStore(runId);
    9 │ 
  
  i Unsafe fix: Use a literal key instead.
  
     5  5 │   
     6  6 │   async function main() {
     7    │ - ··const·runId·=·process.env["RUN_ID"]·||·`run_${Date.now()}`;
        7 │ + ··const·runId·=·process.env.RUN_ID·||·`run_${Date.now()}`;
     8  8 │     const store = new AssetStore(runId);
     9  9 │   
  

src/index.ts:14:30 lint/complexity/useLiteralKeys  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × The computed expression can be simplified without the use of a string literal.
  
    13 │   const graph = createGraph(store);
  > 14 │   const bucket = process.env["BUCKET"] || "macro_economy";
       │                              ^^^^^^^^
    15 │   const limit = Number(process.env["LIMIT"]) || 3;
    16 │ 
  
  i Unsafe fix: Use a literal key instead.
  
    12 12 │   
    13 13 │     const graph = createGraph(store);
    14    │ - ··const·bucket·=·process.env["BUCKET"]·||·"macro_economy";
       14 │ + ··const·bucket·=·process.env.BUCKET·||·"macro_economy";
    15 15 │     const limit = Number(process.env["LIMIT"]) || 3;
    16 16 │   
  

src/index.ts:15:36 lint/complexity/useLiteralKeys  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × The computed expression can be simplified without the use of a string literal.
  
    13 │   const graph = createGraph(store);
    14 │   const bucket = process.env["BUCKET"] || "macro_economy";
  > 15 │   const limit = Number(process.env["LIMIT"]) || 3;
       │                                    ^^^^^^^
    16 │ 
    17 │   const initialState = {
  
  i Unsafe fix: Use a literal key instead.
  
    13 13 │     const graph = createGraph(store);
    14 14 │     const bucket = process.env["BUCKET"] || "macro_economy";
    15    │ - ··const·limit·=·Number(process.env["LIMIT"])·||·3;
       15 │ + ··const·limit·=·Number(process.env.LIMIT)·||·3;
    16 16 │   
    17 17 │     const initialState = {
  

src/index.ts:30:39 lint/suspicious/noExplicitAny ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × Unexpected any. Specify a different type.
  
    29 │   AgentLogger.info("SYSTEM", "MAIN", "FINISH", "Pipeline finished", {
  > 30 │     context: { status: (finalState as any)["status"] },
       │                                       ^^^
    31 │   });
    32 │ }
  
  i any disables many type checking rules. Its use should be avoided.
  

src/index.ts:30:44 lint/complexity/useLiteralKeys  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × The computed expression can be simplified without the use of a string literal.
  
    29 │   AgentLogger.info("SYSTEM", "MAIN", "FINISH", "Pipeline finished", {
  > 30 │     context: { status: (finalState as any)["status"] },
       │                                            ^^^^^^^^
    31 │   });
    32 │ }
  
  i Unsafe fix: Use a literal key instead.
  
    28 28 │   
    29 29 │     AgentLogger.info("SYSTEM", "MAIN", "FINISH", "Pipeline finished", {
    30    │ - ····context:·{·status:·(finalState·as·any)["status"]·},
       30 │ + ····context:·{·status:·(finalState·as·any).status·},
    31 31 │     });
    32 32 │   }
  

src/utils/discord.ts:6:34 lint/complexity/useLiteralKeys  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × The computed expression can be simplified without the use of a string literal.
  
    4 │ export async function sendAlert(message: string, level: "info" | "error" | "success" = "info") {
    5 │   AgentLogger.info("SYSTEM", "DISCORD", "SEND_ALERT", `Alert: ${message}`, { context: { level } });
  > 6 │   const webhookUrl = process.env["DISCORD_WEBHOOK_URL"];
      │                                  ^^^^^^^^^^^^^^^^^^^^^
    7 │   if (!webhookUrl) return;
    8 │ 
  
  i Unsafe fix: Use a literal key instead.
  
     4  4 │   export async function sendAlert(message: string, level: "info" | "error" | "success" = "info") {
     5  5 │     AgentLogger.info("SYSTEM", "DISCORD", "SEND_ALERT", `Alert: ${message}`, { context: { level } });
     6    │ - ··const·webhookUrl·=·process.env["DISCORD_WEBHOOK_URL"];
        6 │ + ··const·webhookUrl·=·process.env.DISCORD_WEBHOOK_URL;
     7  7 │     if (!webhookUrl) return;
     8  8 │   
  

src/core.ts:62:19 lint/complexity/useLiteralKeys  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × The computed expression can be simplified without the use of a string literal.
  
    60 │     configPath,
    61 │   );
  > 62 │   if (process.env["DRY_RUN"] === "true") {
       │                   ^^^^^^^^^
    63 │     if (cfg.steps.youtube) cfg.steps.youtube.dry_run = true;
    64 │     if (cfg.steps.twitter) cfg.steps.twitter.dry_run = true;
  
  i Unsafe fix: Use a literal key instead.
  
     60  60 │       configPath,
     61  61 │     );
     62     │ - ··if·(process.env["DRY_RUN"]·===·"true")·{
         62 │ + ··if·(process.env.DRY_RUN·===·"true")·{
     63  63 │       if (cfg.steps.youtube) cfg.steps.youtube.dry_run = true;
     64  64 │       if (cfg.steps.twitter) cfg.steps.twitter.dry_run = true;
  

src/core.ts:115:17 lint/suspicious/noExplicitAny ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × Unexpected any. Specify a different type.
  
    113 │ ): ChatGoogleGenerativeAI {
    114 │   const { extra = {}, ...rest } = options;
  > 115 │   const config: any = {
        │                 ^^^
    116 │     model: options.model || getLlmModel(),
    117 │     apiKey: process.env["GEMINI_API_KEY"],
  
  i any disables many type checking rules. Its use should be avoided.
  

src/core.ts:117:25 lint/complexity/useLiteralKeys  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × The computed expression can be simplified without the use of a string literal.
  
    115 │   const config: any = {
    116 │     model: options.model || getLlmModel(),
  > 117 │     apiKey: process.env["GEMINI_API_KEY"],
        │                         ^^^^^^^^^^^^^^^^
    118 │     ...extra,
    119 │     ...rest,
  
  i Unsafe fix: Use a literal key instead.
  
    115 115 │     const config: any = {
    116 116 │       model: options.model || getLlmModel(),
    117     │ - ····apiKey:·process.env["GEMINI_API_KEY"],
        117 │ + ····apiKey:·process.env.GEMINI_API_KEY,
    118 118 │       ...extra,
    119 119 │       ...rest,
  

src/core.ts:208:21 lint/complexity/useLiteralKeys  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × The computed expression can be simplified without the use of a string literal.
  
    206 │   ): Promise<T> {
    207 │     AgentLogger.info(this.name, "RUN", "START_LLM", `Invoking LLM for ${this.name}`);
  > 208 │     if (process.env["SKIP_LLM"] === "true") {
        │                     ^^^^^^^^^^
    209 │       AgentLogger.info(
    210 │         this.name,
  
  i Unsafe fix: Use a literal key instead.
  
    206 206 │     ): Promise<T> {
    207 207 │       AgentLogger.info(this.name, "RUN", "START_LLM", `Invoking LLM for ${this.name}`);
    208     │ - ····if·(process.env["SKIP_LLM"]·===·"true")·{
        208 │ + ····if·(process.env.SKIP_LLM·===·"true")·{
    209 209 │         AgentLogger.info(
    210 210 │           this.name,
  

src/core.ts:223:27 lint/suspicious/noExplicitAny ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × Unexpected any. Specify a different type.
  
    221 │     ]);
    222 │     this.store.save(this.name, "raw_response", { content: res.content });
  > 223 │     const usage = (res as any).usage_metadata;
        │                           ^^^
    224 │     if (usage) {
    225 │       AgentLogger.info(this.name, "RUN", "LLM_USAGE", "Captured LLM token usage", {
  
  i any disables many type checking rules. Its use should be avoided.
  

src/core.ts:227:38 lint/complexity/useLiteralKeys  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × The computed expression can be simplified without the use of a string literal.
  
    225 │       AgentLogger.info(this.name, "RUN", "LLM_USAGE", "Captured LLM token usage", {
    226 │         context: {
  > 227 │           input_tokens: Number(usage["input_tokens"]) || 0,
        │                                      ^^^^^^^^^^^^^^
    228 │           output_tokens: Number(usage["output_tokens"]) || 0,
    229 │           total_tokens: Number(usage["total_tokens"]) || 0,
  
  i Unsafe fix: Use a literal key instead.
  
    225 225 │         AgentLogger.info(this.name, "RUN", "LLM_USAGE", "Captured LLM token usage", {
    226 226 │           context: {
    227     │ - ··········input_tokens:·Number(usage["input_tokens"])·||·0,
        227 │ + ··········input_tokens:·Number(usage.input_tokens)·||·0,
    228 228 │             output_tokens: Number(usage["output_tokens"]) || 0,
    229 229 │             total_tokens: Number(usage["total_tokens"]) || 0,
  

src/core.ts:228:39 lint/complexity/useLiteralKeys  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × The computed expression can be simplified without the use of a string literal.
  
    226 │         context: {
    227 │           input_tokens: Number(usage["input_tokens"]) || 0,
  > 228 │           output_tokens: Number(usage["output_tokens"]) || 0,
        │                                       ^^^^^^^^^^^^^^^
    229 │           total_tokens: Number(usage["total_tokens"]) || 0,
    230 │           model: llm.model,
  
  i Unsafe fix: Use a literal key instead.
  
    226 226 │           context: {
    227 227 │             input_tokens: Number(usage["input_tokens"]) || 0,
    228     │ - ··········output_tokens:·Number(usage["output_tokens"])·||·0,
        228 │ + ··········output_tokens:·Number(usage.output_tokens)·||·0,
    229 229 │             total_tokens: Number(usage["total_tokens"]) || 0,
    230 230 │             model: llm.model,
  

src/core.ts:229:38 lint/complexity/useLiteralKeys  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × The computed expression can be simplified without the use of a string literal.
  
    227 │           input_tokens: Number(usage["input_tokens"]) || 0,
    228 │           output_tokens: Number(usage["output_tokens"]) || 0,
  > 229 │           total_tokens: Number(usage["total_tokens"]) || 0,
        │                                      ^^^^^^^^^^^^^^
    230 │           model: llm.model,
    231 │         },
  
  i Unsafe fix: Use a literal key instead.
  
    227 227 │             input_tokens: Number(usage["input_tokens"]) || 0,
    228 228 │             output_tokens: Number(usage["output_tokens"]) || 0,
    229     │ - ··········total_tokens:·Number(usage["total_tokens"])·||·0,
        229 │ + ··········total_tokens:·Number(usage.total_tokens)·||·0,
    230 230 │             model: llm.model,
    231 231 │           },
  

Checked 21 files in 14ms. No fixes applied.
Found 14 errors.
check ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × Some errors were emitted while running checks.
  

error: "biome" exited with code 1
error: script "lint" exited with code 1
