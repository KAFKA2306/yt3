global_style:
  font_path: "assets/fonts/Atkinson-Hyperlegible-Regular.ttf"
  font_name: "Atkinson Hyperlegible"
  thumbnail:
    title_size: 80
    subtitle_size: 48
  video:
    subtitle_size: 64

workflow:
  default_run_dir: "runs"
  default_bucket: "global_macro"
  checkpoint_enabled: true
  memory:
    index_file: "data/memory/index.json"
    essence_file: "data/memory/essences.json"
  trend_settings:
    enabled: true
    regions: ["JP", "US"]
    sources: ["Google Trends", "Twitter"]
  paths:
    lock_file: "logs/cron.lock"
    runs_dir: "runs"
    prompts_dir: "prompts"
    memory_dir: "data/memory"
  filenames:
    output: "output.yaml"
    state: "state.json"
    audio_dir: "audio"
    video_dir: "video"
    audio_full: "full.wav"
    subtitles: "subtitles.ass"
    thumbnail: "thumbnail.png"
    video: "video.mp4"

steps:
  news:
    query_buckets:
      us_market_movers: "S&P500 Nasdaq Dow Jones Earnings Reports Guidance AI Stocks Mag7"
      global_macro: "Fed FOMC ECB Rates Inflation CPI Jobs Report Unemployment US Economy"
      tech_giants: "NVIDIA Microsoft Google Apple Tesla Amazon Meta TSMC ASML"
      crypto_global: "Bitcoin Ethereum ETF SEC Regulation Crypto Markets Global Adoption"
      geopolitics_money: "Oil Prices Gold Geopolitics Trade War US-China Relations Supply Chain"
    fetch_count: 20
    final_count: 5
    cooldown_hours: 12
    count: 3
    recent_topics_runs: 5
    recent_topics_max_chars: 500
    recent_topics_min_token_length: 2
    recent_topics_stopwords: ["が", "の", "を", "に", "は", "で", "と", "も", "から", "まで", "より", "など"]
  research:
    recent_days: 3
    essence_limit: 10
    regions:
      - { lang: "English (US/UK)", code: "en" }
      - { lang: "Chinese (China/Taiwan)", code: "zh" }
      - { lang: "Russian", code: "ru" }
    request_cooldown_ms: 30000
    temperature: 0.5
    selection_temperature: 0.4
    relevance_temperature: 0.0
    default_limit: 3
    angles:
      - { name: "Global Narrative", lang: "English", suffix: "news analysis" }
      - { name: "Contrast/Dissent", lang: "Chinese/Russian", suffix: "opinion blog" }

  script:
    min_duration: 1200
    max_duration: 3000
    target_wow_score: 8.0
    retention_optimization:
      enabled: true
      opening_duration_seconds: 60
      bridge_interval_seconds: 90
      engagement_prompt_interval_seconds: 120
      cta_timing: "after_climax"
      max_topic_duration_seconds: 90
    segment_sleep_ms: 15000
    context_overlap_lines: 3
    default_tags: ["Finance", "Economy"]
    speakers:
      analyst:
        name: "春日部つむぎ"
        aliases: ["春日部つむぎ", "かすかべ つむぎ", "つむぎ"]
      reporter:
        name: "ずんだもん"
        aliases: ["ずんだもん"]
      narrator:
        name: "玄野武宏"
        aliases: ["玄野武宏", "ナレーション", "ナレーター"]

  audio:
    sample_rate: 24000
    format: "wav"

  subtitle:
    width_per_char_pixels: 70
    min_visual_width: 16
    max_visual_width: 40

  video:
    resolution: "1920x1080"
    fps: 25
    background_color: "#103766" # 2026 Financial Protocol Base
    intro_seconds: 5
    codec: "h264_nvenc"
    preset: "p5"
    encoder_options: {pix_fmt: "yuv420p", rc: "vbr", cq: 19, acodec: "aac"}
    encoder_global_args: ["-hwaccel", "cuda", "-hwaccel_output_format", "cuda"]
    intro_outro:
      enabled: true
      intro_path: "assets/video/おはようございます。今日も世界の動きを見てみましょう.mp4"
      outro_path: "assets/video/チャンネル登録と通知オンをお願いします.mp4"
      twitter_outro_path: "assets/video/続きはYoutube.mp4"
      thumbnail_clip: {enabled: false, duration_seconds: 0.1, source_key: "generate_thumbnail"}
    effects:
      - {type: "ken_burns", enabled: true, zoom_speed: 0.0015, max_zoom: 1.2, hold_frame_factor: 1.0, pan_mode: "center"}
      - {type: "overlay", enabled: true, image_path: "assets/春日部つむぎ立ち絵公式_v2.0/春日部つむぎ立ち絵公式_v1.1.1.png", anchor: "bottom_right", height_ratio: 0.85, offset: {right: 20, bottom: 0}}
      - {type: "overlay", enabled: true, image_path: "assets/zundamon.webp", anchor: "bottom_left", height_ratio: 0.51, offset: {left: 20, bottom: 0}}
    thumbnail_overlay: {enabled: false, duration_seconds: 0.1, source_key: "generate_thumbnail"}
    subtitles:
      primary_colour: "&HFFFFFF&"
      outline_colour: "&H000000&"
      outline: 2
      shadow: 0
      alignment: 2
      margin_l: 200
      margin_r: 200
      margin_v: 50
      min_font_size: 52
      safe_area_min_width_percent: 0.3
      overlay_padding: 20

  thumbnail:
    enabled: true
    width: 1280
    height: 720
    background_color: "#103766" # 2026 Financial Protocol Base
    title_color: "#FFFFFF"       # Supporting Color
    subtitle_color: "#288CFA"    # Accent Color
    show_subtitle: true
    padding: 80
    max_lines: 4
    max_chars_per_line: 5
    right_guard_band_px: 850
    outline_inner_color: "#FFFFFF"
    outline_inner_width: 20
    outline_outer_color: "#000000"
    outline_outer_width: 20
    guidelines:
      - "300ms Recognition: Use Geist for Display, Atkinson Hyperlegible for readability"
      - "60-30-10 Principle: Base #103766 (60%), White/Text (30%), Accent #288CFA (10%)"
      - "Broadcast Framing: Eye-level perspective, cinematic 8k look"
      - "Center important elements within 90% of the canvas"
    palettes:
      - {background_color: "#103766", title_color: "#FFFFFF", outline_inner_color: "#288CFA", outline_inner_width: 15, outline_outer_color: "#000000", outline_outer_width: 20, subtitle_color: "#288CFA"} # 2026 Financial Gold Standard
      - {background_color: "#FFE14A", title_color: "#0A0A12", outline_inner_color: "#FFFFFF", outline_inner_width: 15, outline_outer_color: "#000000", outline_outer_width: 20, subtitle_color: "#C62828"}
      - {background_color: "#0B0F19", title_color: "#E5FCF4", outline_inner_color: "#000000", outline_inner_width: 10, outline_outer_color: "#FFFFFF", outline_outer_width: 5, subtitle_color: "#00D4FF"}
      - {background_color: "#0D1D40", title_color: "#FACC15", outline_inner_color: "#000000", outline_inner_width: 0, outline_outer_color: "#0B0F19", outline_outer_width: 25, subtitle_color: "#FFFFFF"}
      - {background_color: "#0A0F1F", title_color: "#E31C23", outline_inner_color: "#FFFFFF", outline_inner_width: 20, outline_outer_color: "#000000", outline_outer_width: 15, subtitle_color: "#FFD166"}
    overlays:
      - {name: "character", enabled: true, image_path: "assets/春日部つむぎ立ち絵公式_v2.0/春日部つむぎ立ち絵公式_v1.1.1.png", anchor: "bottom_right", height_ratio: 0.95, offset: {right: 0, bottom: 0}}
      - {name: "logo", enabled: false, image_path: "assets/icon2510youtuber-mini.png", anchor: "top_right", height: 120, offset: {right: 20, top: 20}}

  thumbnail_ai: {enabled: true, width: 1920, height: 1080, num_steps: 6}

  scene_generator:
    enabled: false
    images_per_video: 4
    variants_per_type: 2
    width: 1280
    height: 720
    num_steps: 9
    scene_duration_seconds: 30
    model_path: "external/hf-cache-hub/models/Z-Image-Turbo"
    device: "cuda"

  metadata:
    enabled: true
    use_llm: true
    llm_model: null
providers:
  llm:
    gemini: {model: "gemini-3-flash-preview", temperature: 0.35, max_tokens: 32768}
    content: {temperature: 0.4}
    media: {temperature: 0.1}
    research: {temperature: 0.5, selection_temperature: 0.4, relevance_temperature: 0.0}
  tts:
    voicevox:
      enabled: true
      url: "http://localhost:50121"
      manager_script: "scripts/voicevox_manager.sh"
      auto_start: false
      speakers: {春日部つむぎ: 8, ずんだもん: 1, 玄野: 11}
      voice_parameters:
        default: {speedScale: 1.0, intonationScale: 1.0, pitchScale: 0.0, volumeScale: 1.0}
        by_character: {春日部つむぎ: {speedScale: 1.0, intonationScale: 1.2}, ずんだもん: {speedScale: 1.0, intonationScale: 1.0}}
        by_type: {opening: {speedScale: 1.1, intonationScale: 1.2}, explanation: {speedScale: 1.0}, emphasis: {speedScale: 1.0, intonationScale: 1.3}}
  news:
    perplexity: {enabled: false, model: "sonar", temperature: 0.2, max_tokens: 2048, search_recency_filter: "week"}
  cloudflare_ai: {account_id: "dc1aa018702e10045b00865b63f144d0", model: "@cf/black-forest-labs/flux-1-schnell"}

  manager:
    check_interval_ms: 300000
    stale_lock_timeout_seconds: 3600
    start_hour: 7
    user: "root"

logging:
  level: "INFO"
  format: "json"
  activity_log_file: "logs/agent_activity.jsonl"

discord:
  notification_channel_id: "YOUR_DISCORD_CHANNEL_ID_HERE"


automation:
  enabled: true
  venv_activate: ".venv/bin/activate"
  log_dir: "logs/automation"
  services:
    - {name: "aim_dashboard", command: ["npx", "tsx", "scripts/tasks.ts", "aim"]}
    - {name: "voicevox", command: ["bash", "scripts/voicevox_manager.sh", "start"]}
    - {name: "discord_news_bot", command: ["npx", "tsx", "scripts/discord_news_bot.ts"]}
  schedules:
    - {name: "workflow_daily_0700", command: ["bash", "scripts/run_workflow_cron.sh"], cron: "0 7 * * *"}
    - {name: "trend_workflow_hourly", command: ["npx", "tsx", "src/index.ts"], args: ["--trend-mode"], cron: "0 * * * *"}

  youtube_boosters: ["award-winning cinematography", "professional photography standard", "editorial quality composition", "visually striking", "captivating", "scroll-stopping imagery", "masterful lighting", "perfect color harmony"]

mcp:
  servers:
    context7:
      command: "npx"
      args: ["-y", "@upstash/mcp-server-context7"]
    figma:
      command: "npx"
      args: ["-y", "@figma/mcp-server-figma"]
    pptx:
      command: "npx"
      args: ["-y", "mcp-server-pptx"] # Assuming a standard package name or placeholder
    arxiv:
      command: "npx"
      args: ["-y", "@modelcontextprotocol/server-arxiv"]

design_tokens:
  primary_brand_color: "#103766" # 2026 Deep Blue
  accent_brand_color: "#288CFA"  # High Energy Blue
  contrast_text_color: "#0A0A12"
  alert_color: "#C62828"
  success_color: "#00A3AF"
  font_display: "Geist"
  font_text: "Atkinson Hyperlegible"
